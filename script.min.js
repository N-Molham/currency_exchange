(function(env,$){$(function(){var $titles=$(".currency-title");var $fields=$(".results input").on("nbe.calcResult",function(e,amount){var $this=$(this),result_amount,element=e.currentTarget;if(element.dataset){result_amount=amount*prices[element.dataset.cur][element.dataset.method]}else if($this.data){result_amount=amount*prices[$this.data("cur")][$this.data("method")]}else{result_amount=amount*prices[$this.attr("data-cur")][$this.attr("data-method")]}$this.val(round_number(result_amount)+" EGP")});$("#amount").on("keyup change nbe-change",function(e){var amount=parseFloat(e.target.value);if(isNaN(amount)){amount=1}$titles.each(function(){var $this=$(this);$this.find("span").html(amount+" "+prices[$this.data("cur")].code)});$fields.trigger("nbe.calcResult",[amount])}).trigger("nbe-change")});env.round_number=function(num){return Math.round(num*1e4)/1e4};env.trace=function(any){if(env.console&&console.log){console.log(any)}}})(window,jQuery);